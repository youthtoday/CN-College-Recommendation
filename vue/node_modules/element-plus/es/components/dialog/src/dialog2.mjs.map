{"version":3,"file":"dialog2.mjs","sources":["../../../../../../packages/components/dialog/src/dialog.vue"],"sourcesContent":["<template>\n  <teleport to=\"body\" :disabled=\"!appendToBody\">\n    <transition\n      name=\"dialog-fade\"\n      @after-enter=\"afterEnter\"\n      @after-leave=\"afterLeave\"\n      @before-leave=\"beforeLeave\"\n    >\n      <el-overlay\n        v-show=\"visible\"\n        custom-mask-event\n        :mask=\"modal\"\n        :overlay-class=\"modalClass\"\n        :z-index=\"zIndex\"\n      >\n        <div\n          :class=\"`${ns.namespace.value}-overlay-dialog`\"\n          @click=\"overlayEvent.onClick\"\n          @mousedown=\"overlayEvent.onMousedown\"\n          @mouseup=\"overlayEvent.onMouseup\"\n        >\n          <el-dialog-content\n            v-if=\"rendered\"\n            :custom-class=\"customClass\"\n            :center=\"center\"\n            :close-icon=\"closeIcon\"\n            :draggable=\"draggable\"\n            :fullscreen=\"fullscreen\"\n            :show-close=\"showClose\"\n            :style=\"style\"\n            :title=\"title\"\n            @close=\"handleClose\"\n          >\n            <template #title>\n              <slot name=\"title\" />\n            </template>\n            <slot />\n            <template #footer>\n              <slot name=\"footer\" />\n            </template>\n          </el-dialog-content>\n        </div>\n      </el-overlay>\n    </transition>\n  </teleport>\n</template>\n\n<script lang=\"ts\" setup>\nimport { computed, ref, provide } from 'vue'\nimport { ElOverlay } from '@element-plus/components/overlay'\nimport { useNamespace, useDraggable, useSameTarget } from '@element-plus/hooks'\nimport ElDialogContent from './dialog-content.vue'\nimport { dialogProps, dialogEmits } from './dialog'\nimport { elDialogInjectionKey } from './token'\nimport { useDialog } from './use-dialog'\n\nimport type { SetupContext, Ref } from 'vue'\nimport type { DialogEmits } from './dialog'\n\ndefineOptions({\n  name: 'ElDialog',\n})\n\nconst props = defineProps(dialogProps)\nconst emit = defineEmits(dialogEmits)\n\nconst ns = useNamespace('dialog')\nconst dialogRef = ref<HTMLElement | null>(null)\nconst headerRef = ref<HTMLElement | null>(null)\n\nconst dialog = useDialog(\n  props,\n  { emit } as SetupContext<DialogEmits>,\n  dialogRef as Ref<HTMLElement>\n)\nconst {\n  visible,\n  afterEnter,\n  afterLeave,\n  beforeLeave,\n  style,\n  handleClose,\n  rendered,\n  zIndex,\n} = dialog\n\nprovide(elDialogInjectionKey, {\n  dialogRef,\n  headerRef,\n  ns,\n  rendered,\n  style,\n})\n\nconst overlayEvent = useSameTarget(dialog.onModalClick)\n\nconst draggable = computed(() => props.draggable && !props.fullscreen)\n\nuseDraggable(\n  dialogRef as Ref<HTMLElement>,\n  headerRef as Ref<HTMLElement>,\n  draggable\n)\n</script>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AAEA;AAKA;;;;;;;;;;AAWA;;;;;;;AAQA;AAEA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}
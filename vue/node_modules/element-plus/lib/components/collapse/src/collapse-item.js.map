{"version":3,"file":"collapse-item.js","sources":["../../../../../../packages/components/collapse/src/collapse-item.vue"],"sourcesContent":["<template>\n  <div\n    :class=\"[\n      ns.b('item'),\n      ns.is('active', isActive),\n      ns.is('disabled', disabled),\n    ]\"\n  >\n    <div\n      role=\"tab\"\n      :aria-expanded=\"isActive\"\n      :aria-controls=\"ns.b(`content-${id}`)\"\n      :aria-describedby=\"ns.b(`content-${id}`)\"\n    >\n      <div\n        :id=\"ns.b(`head-${id}`)\"\n        :class=\"[\n          ns.be('item', 'header'),\n          ns.is('active', isActive),\n          { focusing },\n        ]\"\n        role=\"button\"\n        :tabindex=\"disabled ? -1 : 0\"\n        @click=\"handleHeaderClick\"\n        @keyup.space.enter.stop=\"handleEnterClick\"\n        @focus=\"handleFocus\"\n        @blur=\"focusing = false\"\n      >\n        <slot name=\"title\">{{ title }}</slot>\n        <el-icon :class=\"[ns.be('item', 'arrow'), ns.is('active', isActive)]\">\n          <arrow-right />\n        </el-icon>\n      </div>\n    </div>\n    <el-collapse-transition>\n      <div\n        v-show=\"isActive\"\n        :id=\"ns.b(`content-${id}`)\"\n        :class=\"ns.be('item', 'wrap')\"\n        role=\"tabpanel\"\n        :aria-hidden=\"!isActive\"\n        :aria-labelledby=\"ns.b(`head-${id}`)\"\n      >\n        <div :class=\"ns.be('item', 'content')\">\n          <slot></slot>\n        </div>\n      </div>\n    </el-collapse-transition>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, inject, computed, ref } from 'vue'\nimport { generateId } from '@element-plus/utils'\nimport ElCollapseTransition from '@element-plus/components/collapse-transition'\nimport ElIcon from '@element-plus/components/icon'\nimport { ArrowRight } from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nimport type { PropType } from 'vue'\nimport type { CollapseProvider } from './collapse.type'\n\nexport default defineComponent({\n  name: 'ElCollapseItem',\n  components: { ElCollapseTransition, ElIcon, ArrowRight },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    name: {\n      type: [String, Number] as PropType<string | number>,\n      default: () => {\n        return generateId()\n      },\n    },\n    disabled: Boolean,\n  },\n  setup(props) {\n    const collapse = inject<CollapseProvider>('collapse')\n    const ns = useNamespace('collapse')\n\n    const contentWrapStyle = ref({\n      height: 'auto',\n      display: 'block',\n    })\n    const contentHeight = ref(0)\n    const focusing = ref(false)\n    const isClick = ref(false)\n    const id = ref(generateId())\n\n    const isActive = computed(() => {\n      return collapse?.activeNames.value.indexOf(props.name) > -1\n    })\n\n    const handleFocus = () => {\n      setTimeout(() => {\n        if (!isClick.value) {\n          focusing.value = true\n        } else {\n          isClick.value = false\n        }\n      }, 50)\n    }\n\n    const handleHeaderClick = () => {\n      if (props.disabled) return\n      collapse?.handleItemClick(props.name)\n      focusing.value = false\n      isClick.value = true\n    }\n\n    const handleEnterClick = () => {\n      collapse?.handleItemClick(props.name)\n    }\n\n    return {\n      isActive,\n      contentWrapStyle,\n      contentHeight,\n      focusing,\n      isClick,\n      id,\n      ns,\n      handleFocus,\n      handleHeaderClick,\n      handleEnterClick,\n      collapse,\n    }\n  },\n})\n</script>\n"],"names":["defineComponent","ElCollapseTransition","ElIcon","ArrowRight","generateId","inject","useNamespace","ref","computed","_createElementBlock","_normalizeClass","_createElementVNode","_renderSlot","_createVNode"],"mappings":";;;;;;;;;;;;;;AA6DA,MAAK,YAAaA,oBAAa;AAAA,EAC7B,MAAM;AAAA,EACN,YAAY,wBAAEC,0BAAsBC,4BAAQC;AAAA,EAC5C,OAAO;AAAA,IACL,OAAO;AAAA,MACL,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IAEX,MAAM;AAAA,MACJ,MAAM,CAAC,QAAQ;AAAA,MACf,SAAS,MAAM;AACb,eAAOC;AAAA;AAAA;AAAA,IAGX,UAAU;AAAA;AAAA,EAEZ,MAAM,OAAO;AACX,UAAM,WAAWC,WAAyB;AAC1C,UAAM,KAAKC,qBAAa;AAExB,UAAM,mBAAmBC,QAAI;AAAA,MAC3B,QAAQ;AAAA,MACR,SAAS;AAAA;AAEX,UAAM,gBAAgBA,QAAI;AAC1B,UAAM,WAAWA,QAAI;AACrB,UAAM,UAAUA,QAAI;AACpB,UAAM,KAAKA,QAAIH;AAEf,UAAM,WAAWI,aAAS,MAAM;AAC9B,aAAO,kDAAkD;AAAA;AAG3D,UAAM,cAAc,MAAM;AACxB,iBAAW,MAAM;AACf,YAAI,CAAC,QAAQ,OAAO;AAClB,mBAAS,QAAQ;AAAA,eACZ;AACL,kBAAQ,QAAQ;AAAA;AAAA,SAEjB;AAAA;AAGL,UAAM,oBAAoB,MAAM;AAC9B,UAAI,MAAM;AAAU;AACpB;AACA,eAAS,QAAQ;AACjB,cAAQ,QAAQ;AAAA;AAGlB,UAAM,mBAAmB,MAAM;AAC7B;AAAgC;AAGlC,WAAO;AAAA,MACL;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA;AAAA;AAAA;;;;;;;;0BA7HJC,uBA+CM;AAAA,IA9CH,OAAKC;AAAA,MAAU,QAAG,EAAC;AAAA,MAAgB,QAAG,GAAE,UAAW;AAAA,MAAiB,QAAG,GAAE,YAAa;AAAA;AAAA;IAMvFC,uBAyBM;AAAA,MAxBJ,MAAK;AAAA,MACJ,iBAAe;AAAA,MACf,iBAAe,QAAG,EAAC,WAAY;AAAA,MAC/B,oBAAkB,QAAG,EAAC,WAAY;AAAA;MAEnCA,uBAkBM;AAAA,QAjBH,IAAI,QAAG,EAAC,QAAS;AAAA,QACjB,OAAKD;AAAA,UAAc,QAAG,GAAE;AAAA,UAA8B,QAAG,GAAE,UAAW;AAAA,sBAAuB;AAAA;AAAA,QAK9F,MAAK;AAAA,QACJ,UAAU,gBAAQ;AAAA,QAClB,SAAK,uCAAE;AAAA,QACP,SAAK,sEAAmB,yDAAgB;AAAA,QACxC,SAAK,uCAAE;AAAA,QACP,QAAI,sCAAE,gBAAQ;AAAA;QAEfE,eAAqC,0BAArC,MAAqC;AAAA,kDAAf,aAAK;AAAA;AAAA,QAC3BC,gBAEU;AAAA,UAFA,OAAKH,oBAAG,QAAG,GAAE,kBAAmB,QAAG,GAAE,UAAW;AAAA;+BACxD,MAAe;AAAA,YAAfG,gBAAe;AAAA;AAAA;;;;IAIrBA,gBAayB;AAAA,2BAZvB,MAWM;AAAA,2BAXNF,uBAWM;AAAA,UATH,IAAI,QAAG,EAAC,WAAY;AAAA,UACpB,OAAKD,mBAAE,QAAG,GAAE;AAAA,UACb,MAAK;AAAA,UACJ,eAAW,CAAG;AAAA,UACd,mBAAiB,QAAG,EAAC,QAAS;AAAA;UAE/BC,uBAEM;AAAA,YAFA,OAAKD,mBAAE,QAAG,GAAE;AAAA;YAChBE,eAAa;AAAA;;sBARP;AAAA;AAAA;AAAA;;;;;;;;"}